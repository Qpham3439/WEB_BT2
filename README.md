# WEB_BT2
BÃ i táº­p 02 cá»§a sinh viÃªn: K225480106057 - Pháº¡m Máº¡nh Quá»³nh - mÃ´n phÃ¡t triá»ƒn á»©ng dá»¥ng trÃªn ná»n web
# ğŸ“ BÃ€I Táº¬P MÃ”N PHÃT TRIá»‚N á»¨NG Dá»¤NG TRÃŠN Ná»€N WEB Sá» 2
# NGÃ€Y GIAO: 19/10/2025 - DEADLINE: 26/10/2025
# Ná»˜I DUNG BÃ€I Táº¬P
# ğŸ§© Äá»€ BÃ€I
- CÃ i Ä‘áº·t Apache Web Server.
- CÃ i Ä‘áº·t NodeJS vÃ  Nodered.
- Táº¡o cÆ¡ sá»Ÿ dá»¯ liá»‡u SQL Server 2022.
- CÃ i Ä‘áº·t thÆ° viá»‡n trÃªn Nodered.
- Táº¡o API Back-end báº±ng Nodered.
- Táº¡o giao diá»‡n Front-end.
- Nháº­n xÃ©t bÃ i lÃ m cá»§a mÃ¬nh
# âœï¸ YÃŠU Cáº¦U
- YÃªu cáº§u báº¯t buá»™c vá» thá»i gian: khÃ´ng quÃ¡ deadline, quÃ¡: 0 Ä‘iá»ƒm (ko cÃ³ ngoáº¡i lá»‡)
- CÃ i Ä‘áº·t Ä‘Æ°á»£c Apache vÃ  Nodejs vÃ  Nodered: 1Ä‘
- CÃ i Ä‘áº·t Ä‘Æ°á»£c cÃ¡c thÆ° viá»‡n cá»§a Nodered: 1Ä‘
- Nháº­p dá»¯ liá»‡u demo vÃ o SQL Server: 1Ä‘
- táº¡o Ä‘Æ°á»£c Back-end api trÃªn Nodered, test qua url thÃ nh cÃ´ng: 1Ä‘
- táº¡o Ä‘Æ°á»£c Front-end HTML CSS JS, gá»i Ä‘Æ°á»£c API, hiá»ƒn thá»‹ káº¿t quáº£: 1Ä‘
- trÃ¬nh bÃ y Ä‘á»™ hiá»ƒu vá» toÃ n bá»™ quÃ¡ trÃ¬nh : 5Ä‘
# ğŸ’¡ GHI CHÃš
- YÃªu cáº§u trÃªn cÃ i Ä‘áº·t trÃªn á»• D, náº¿u mÃ¡y ko cÃ³ á»• D cÃ³ thá»ƒ linh hoáº¡t chuyá»ƒn sang á»• khÃ¡c, path khÃ¡c.
- CÃ³ thá»ƒ thá»±c hiá»‡n trá»±c tiáº¿p trÃªn mÃ¡y tÃ­nh Windows, hoáº·c mÃ¡y áº£o
- VÃ¬ cÆ¡ sá»Ÿ dá»¯ liá»‡u lÃ  tuá»³ Ã½: sv cáº§n mÃ´ táº£ rÃµ db chá»©a dá»¯ liá»‡u gÃ¬, nháº­p nhiá»u dá»¯ liá»‡u test cÃ³ nghÄ©a, json tráº£ vá» sáº½ cÃ³ dáº¡ng nhÆ° nÃ o cÅ©ng cáº§n mÃ´ táº£ rÃµ.
- CÃ³ thá»ƒ xÃ¢y dá»±ng nhiá»u API cÃ¹ng cÆ¡ cháº¿, khÃ¡c tÃ­nh nÄƒng: nhÆ° tÃ¬m kiáº¿m, thÃªm, sá»­a, xoÃ¡ dá»¯ liá»‡u trong DB.
- BÃ i lÃ m pháº£i cÃ³ dáº¥u áº¥n cÃ¡ nhÃ¢n, nghiÃªm cáº¥m má»i hÃ¬nh thá»©c sao chÃ©p, gian láº­n (sáº½ cáº¥m thi náº¿u bá»‹ phÃ¡t hiá»‡n gian láº­n).
- BÃ i táº­p thá»±c lÃ m sáº½ tá»‘n nhiá»u thá»i gian, sv cáº§n chá»©ng minh quÃ¡ trÃ¬nh lÃ m: save file readme.md má»—i khoáº£ng 15-30 phÃºt lÃ m : lá»‹ch sá»­ sá»­a Ä‘á»•i sáº½ tháº¥y quÃ¡ trÃ¬nh lÃ m nÃ y!
- Nháº¯c nháº¹: github khÃ´ng fake datetime Ä‘Æ°á»£c.
- Sinh viÃªn Ä‘Æ°á»£c sá»­ dá»¥ng AI Ä‘á»ƒ tham kháº£o.
# Ná»˜I DUNG BÃ€I LÃ€M
1. CÃ i Ä‘áº·t Apache Web Server.
- VÃ´ hiá»‡u hoÃ¡ IIS: náº¿u IIS Ä‘ang cháº¡y thÃ¬ má»Ÿ CMD quyá»n Admin Ä‘á»ƒ cháº¡y lá»‡nh: iisreset /stop
<img width="1210" height="693" alt="Screenshot 2025-10-26 194510" src="https://github.com/user-attachments/assets/1e33fb3a-9d32-4767-873e-95a0ed0c6230" />
-> Má»¥c Ä‘Ã­ch: Cáº§n dá»«ng hoáº¡t Ä‘á»™ng cá»§a IIS trÃªn cá»•ng 80 (HTTP) vÃ¬ bÃ i táº­p trÆ°á»›c Ä‘Ã³, khi Ä‘Ã³ thÃ¬ Apache má»›i cÃ³ thá»ƒ cháº¡y trÃªn cá»•ng nÃ y Ä‘Æ°á»£c.
- Download Apache Server vÃ  giáº£i nÃ©n:
+ Link download: https://www.apachelounge.com/download/ (Ä‘Ã¢y lÃ  link for Window)
<img width="1920" height="1080" alt="Screenshot 2025-10-26 092203" src="https://github.com/user-attachments/assets/2f927572-64a4-4523-9dcc-20efc3c60910" />

+ Sau khi báº¥m download thÃ¬ sáº½ nháº­n Ä‘Æ°á»£c file nÃ y:
<img width="882" height="36" alt="Screenshot 2025-10-26 194752" src="https://github.com/user-attachments/assets/e585d3b3-7a56-4b92-9815-7748fa7d5a70" />

+ Giáº£i nÃ©n file vÃ o á»• E (MÃ¡y e khÃ´ng cÃ³ á»• D nÃªn e dÃ¹ng á»• E):
<img width="871" height="784" alt="Screenshot 2025-10-26 195005" src="https://github.com/user-attachments/assets/44e87e0b-165d-49cf-a85b-b89ac7166b4c" />

- Cáº¥u hÃ¬nh file httpd.conf:
<img width="631" height="262" alt="Screenshot 2025-10-26 195251" src="https://github.com/user-attachments/assets/6ed110ce-0e16-4996-8749-0a9f4ed0bf88" />
<img width="850" height="240" alt="Screenshot 2025-10-26 195323" src="https://github.com/user-attachments/assets/175934e9-3c36-4850-850c-c9a85c2db2c3" />
<img width="519" height="177" alt="Screenshot 2025-10-26 195345" src="https://github.com/user-attachments/assets/958e7a10-272f-493a-8c06-c2325411384f" />
<img width="843" height="85" alt="Screenshot 2025-10-26 195357" src="https://github.com/user-attachments/assets/21f32091-95b9-48dd-b8ac-1dbc2b192c70" />
-> Má»¥c Ä‘Ã­ch: File httpd.conf lÃ  file cáº¥u hÃ¬nh chÃ­nh cá»§a Apache Web Server, cÃ³ thá»ƒ cáº¥u hÃ¬nh láº¡i port (máº·c Ä‘á»‹nh lÃ  cá»•ng 80), folder chá»©a cÃ¡c file web (htdocs), server name,... -> Trong áº£nh thá»±c hiá»‡n xÃ³a bá» # á»Ÿ dÃ²ng "Include conf/extra/httpd-vhosts.conf" Ä‘á»ƒ cÃ³ thá»ƒ kÃ­ch hoáº¡t cáº¥u hÃ¬nh Virtual Host, nghÄ©a lÃ  cho phÃ©p Apache Ä‘á»c vÃ  Ã¡p dá»¥ng file httpd-vhosts.conf. ÄÃ¢y lÃ  cÃ¡ch Ä‘á»ƒ nhiá»u website cÃ³ thá»ƒ cháº¡y cÃ¹ng lÃºc trÃªn Apache.

- Cáº¥u hÃ¬nh file httpd-vhosts.conf:
<img width="681" height="344" alt="Screenshot 2025-10-26 095152" src="https://github.com/user-attachments/assets/1da72f8f-ab15-47d6-a8a1-7e72ee6c4430" />
-> Má»¥c Ä‘Ã­ch: Cáº¥u hÃ¬nh website vá»›i domain, thÆ° má»¥c web, log,...
- Trong folder Apache24, táº¡o folder phammanhquynh chá»©a file index.html, Ä‘Ã¢y lÃ  file web Ä‘á»ƒ cháº¡y domain phammanhquynh.com
<img width="1919" height="239" alt="Screenshot 2025-10-26 200029" src="https://github.com/user-attachments/assets/e56567b4-7628-40c3-b83d-060f9c7b2971" />

- Cáº¥u hÃ¬nh file host Ä‘á»ƒ fake ip 127.0.0.1 cho domain áº£o vá»«a táº¡o:
<img width="386" height="45" alt="Screenshot 2025-10-26 092355" src="https://github.com/user-attachments/assets/3810af8a-5e9f-48f6-b32f-486dab03013b" />

- Cháº¡y CMD vá»›i quyá»n Admin trÃªn path D:\Apache24\bin\httpd.exe, sau Ä‘Ã³ khá»Ÿi Ä‘á»™ng apache:
<img width="671" height="76" alt="Screenshot 2025-10-26 094101" src="https://github.com/user-attachments/assets/9b0e1210-21d7-4641-b97f-32862b207428" />
-> Má»¥c Ä‘Ã­ch: ÄÄƒng kÃ½ Apache thÃ nh má»™t dá»‹ch vá»¥ (Service) trong Windows.
  
2. CÃ i Ä‘áº·t Nodejs vÃ  Nodered
- CÃ i Ä‘áº·t Nodejs trÃªn : https://nodejs.org/en/download:
<img width="1920" height="1080" alt="Screenshot 2025-10-26 150410" src="https://github.com/user-attachments/assets/aa2d7ea9-6537-441b-90d0-b71a16ad03d8" />

- Cháº¡y file exe vÃ  cáº¥u hÃ¬nh :
<img width="638" height="490" alt="Screenshot 2025-10-26 150337" src="https://github.com/user-attachments/assets/b63b37c9-134f-4fc9-88d0-99e038efad86" />

- CÃ i nodered:
+ cháº¡y CMD, vÃ o thÆ° má»¥c E:\nodejs
<img width="1471" height="841" alt="Screenshot 2025-10-26 150923" src="https://github.com/user-attachments/assets/30cbaa3d-ed79-468f-bc7e-870dc8f41582" />
+ Download file trÃªn link: https://nssm.cc/release/nssm-2.24.zip:
<img width="847" height="55" alt="Screenshot 2025-10-26 200845" src="https://github.com/user-attachments/assets/da2e82a2-435b-440a-a147-47e2270721d2" />
+ Giáº£i nÃ©n vÃ  coppy file nssm.exe vÃ o folder nodered:
<img width="819" height="373" alt="Screenshot 2025-10-26 151939" src="https://github.com/user-attachments/assets/537eb783-a5d9-49ac-9651-abf7edafad8f" />
+ Táº¡o file "E:\nodejs\nodered\run-nodered.cmd"
<img width="1524" height="553" alt="Screenshot 2025-10-26 201020" src="https://github.com/user-attachments/assets/23a02114-4f16-4f58-8fdc-0b143a3540c2" />

+  CÃ i Ä‘áº·t service a1-nodered:
<img width="749" height="151" alt="Screenshot 2025-10-26 152516" src="https://github.com/user-attachments/assets/5b6bfbb8-7939-41cc-a0fe-cc7f7f2f5ac3" />

+  Cháº¡y service a1-nodered báº±ng lá»‡nh: nssm.exe install a1-nodered "D:\nodejs\nodered\run-nodered.cmd"
3. Táº¡o cÆ¡ sá»Ÿ dá»¯ liá»‡u SQL Server 2022
- Má»Ÿ SQL vÃ  táº¡o database:
<img width="1044" height="873" alt="Screenshot 2025-10-26 201255" src="https://github.com/user-attachments/assets/2fd2f47a-56ba-451b-ac65-506b48b693e0" />
<img width="695" height="258" alt="Screenshot 2025-10-26 201350" src="https://github.com/user-attachments/assets/79361f2c-644c-4b17-b6da-a6806804e84e" />

- Táº¡o báº£ng vÃ  nháº­p cÃ¡c thuá»™c tÃ­nh:
<img width="820" height="306" alt="image" src="https://github.com/user-attachments/assets/be063cea-4c37-4929-84ee-f91e2a6831bd" />
- Nháº­p dá»¯ liá»‡u demo:
<img width="653" height="302" alt="image" src="https://github.com/user-attachments/assets/73c395a6-b0fd-4ad6-8a48-fd5694aaf244" />

4. CÃ i Ä‘áº·t cÃ¡c thÆ° viá»‡n cá»§a Nodered:
- Cháº¡y localhost:1880 Ä‘á»ƒ má»Ÿ Nodered:
<img width="1920" height="1080" alt="Screenshot 2025-10-26 152710" src="https://github.com/user-attachments/assets/201e1952-83a5-4b8d-b8ee-1f89bf3541a2" />

- CÃ i Ä‘áº·t cÃ¡c thÆ° viá»‡n cáº§n thiáº¿t. VÃ­ dá»¥:
<img width="1920" height="1080" alt="Screenshot 2025-10-26 161742" src="https://github.com/user-attachments/assets/e47cb967-e021-4cb9-adcb-00125007594d" />

- Sá»­a file E:\nodejs\nodered\work\settings.js:
<img width="1117" height="282" alt="image" src="https://github.com/user-attachments/assets/a8c1136b-f4fc-45a0-88a8-72bd3e3dfff9" />
->  Má»¥c Ä‘Ã­ch: cáº¥u hÃ¬nh tÃ i khoáº£n admin (username, password) Ä‘á»ƒ Ä‘Äƒng nháº­p Nodered
5. Táº¡o API Back-end báº±ng Nodered.
- Táº¡o cÃ¡c node cáº§n thiáº¿t: http in, function, MSSQL, http response, debug
<img width="1142" height="352" alt="image" src="https://github.com/user-attachments/assets/17a6e980-5599-49fd-ae58-256fcfd148e9" />
+ http in: Nháº­n request tá»« client (Ä‘áº§u vÃ o API)
+ function: Xá»­ lÃ½, táº¡o logic hoáº·c truy váº¥n
+ MSSQL: Káº¿t ná»‘i vÃ  láº¥y dá»¯ liá»‡u tá»« SQL Server
+ http response: Tráº£ káº¿t quáº£ vá» client
+ debug: In ra log Ä‘á»ƒ kiá»ƒm tra dá»¯ liá»‡u
- Cáº¥u hÃ¬nh chi tiáº¿t cÃ¡c node nhÆ° sau:
<img width="1920" height="1080" alt="Screenshot 2025-10-26 183232" src="https://github.com/user-attachments/assets/ebd7418e-6d60-419c-9f7d-5fda52d4f9da" />
<img width="911" height="839" alt="image" src="https://github.com/user-attachments/assets/46fe67bf-6355-4099-8e91-137d48a0f8d8" />
<img width="800" height="894" alt="image" src="https://github.com/user-attachments/assets/bb5fc33e-8f50-4559-a775-3c9161f37928" />
<img width="1920" height="1080" alt="Screenshot 2025-10-26 183517" src="https://github.com/user-attachments/assets/967a39b0-4346-4e02-beee-197b2f1fc60f" />
<img width="718" height="822" alt="image" src="https://github.com/user-attachments/assets/a3978bdf-afde-450c-b955-f329350ef3f6" />
- Sau khi cáº¥u hÃ¬nh nháº¥n Done -> Deploy
- Cháº¡y localhost:1880/timkiem sáº½ tráº£ vá» dá»¯ liá»‡u dáº¡ng json:

<img width="1918" height="746" alt="image" src="https://github.com/user-attachments/assets/6eae122b-07dd-40de-b76a-46687b67d794" />

6. Táº¡o giao diá»‡n Front-end.
- Trong folder phammanhquynh chÆ°a file index.html Ä‘Ã£ táº¡o ban Ä‘áº§u, táº¡o thÃªm cÃ¡c file CSS vÃ  JS:

<img width="1043" height="355" alt="image" src="https://github.com/user-attachments/assets/7f780bbb-c10a-4b17-afb1-63d5f9082a56" />

-  Viáº¿t giao diá»‡n báº±ng HTML vÃ  CSS trong file index.html vÃ  phammanhquynh.css:

<img width="1603" height="963" alt="Screenshot 2025-10-26 202526" src="https://github.com/user-attachments/assets/75ce08aa-961b-4924-ad1d-0fb6625bf385" />

<img width="1328" height="914" alt="Screenshot 2025-10-26 202535" src="https://github.com/user-attachments/assets/e01d4d57-46b3-4b86-a78a-f9bbb595a91a" />

-  Láº­p trÃ¬nh JS  trong file phammanhquynh.js:

<img width="1222" height="963" alt="image" src="https://github.com/user-attachments/assets/d0b3ad5f-e8aa-4702-af41-ab4b2890c5a9" />

-  Cháº¡y file index.html trong folder  \Apache24\hoangkimngoc:

<img width="1920" height="1080" alt="image" src="https://github.com/user-attachments/assets/650bd7ea-db30-45db-9f8e-7c00d6cfba5a" />

-> Káº¿t há»£p backend nodered + frontend html css + csdl SQL: káº¿t quáº£ lÃ  khi ngÆ°á»i dÃ¹ng gá»­i GET báº±ng cÃ¡ch nháº­p ná»™i dung tÃ¬m kiáº¿m trÃªn frontend thÃ¬ backend truy váº¥n database tÃ¬m ná»™i dung tÆ°Æ¡ng á»©ng rá»“i tráº£ vá» káº¿t quáº£ cho client.

7. Nháº­n xÃ©t:
- Trong quÃ¡ trÃ¬nh cÃ i Ä‘áº·t pháº§n má»m:
  + Khi cÃ i Ä‘áº·t 1 web server thÃ¬ cáº§n biáº¿t port nÃ o server Ä‘Ã³ sáº½ cháº¡y, cháº³ng háº¡n nhÆ° IIS thÆ°á»ng cháº¡y port 80, thÃ¬ khi muá»‘n cÃ i thÃªm web server khÃ¡c thÃ¬ cáº§n táº¯t hoáº¡t Ä‘á»™ng cá»§a server trÃªn cá»•ng 80 Ä‘áº» cho server khÃ¡c cháº¡y.
+ NgoÃ i cÃ i Ä‘áº·t thá»§ cÃ´ng, trá»±c tiáº¿p thÃ¬ cÃ³ thá»ƒ dÃ¹ng pháº§n má»m trung gian nhÆ° XAMPP hoáº·c cÃ i trÃªn mÃ¡y áº£o.
+ Khi cáº¥u hÃ¬nh cÃ¡c file cáº¥u hÃ¬nh chÃ­nh cá»§a web server thÃ¬ cáº§n má»Ÿ quyá»n Admin cho á»©ng dá»¥ng viáº¿t cáº¥u hÃ¬nh.
+ Khi cÃ i Ä‘áº·t hay khá»Ÿi Ä‘á»™ng nodered thÃ¬ cáº§n má»Ÿ quyá»n Admin cho CMD.
+ Khi cáº¥u hÃ¬nh cÃ¡c node trÃªn nodered thÃ¬ cáº§n tÃ¬m hiá»ƒu tháº­t ká»¹ cÃ¡c thuá»™c tÃ­nh cá»§a tá»«ng node, cÃ¡ch hoáº¡t Ä‘á»™ng ra sao.
+ Khi cáº¥u hÃ¬nh node MSSQL thÃ¬ cáº§n connect tá»›i SQL Server, cáº§n Ä‘iá»n chÃ­nh xÃ¡c cÃ¡c thÃ´ng tin nhÆ° servername, port, username, password, database name. NgoÃ i ra cáº§n tÃ¬m hiá»ƒu vÃ  xÃ¡c Ä‘á»‹nh Ä‘Ãºng Query Mode.
+ NÃªn test connect cá»§a tá»«ng node trÆ°á»›c báº±ng cÃ¡ch thÃªm node Debug. Trong quÃ¡ trÃ¬nh test connect thÃ¬ cáº§n má»Ÿ Debug message, Ä‘á»c cÃ¡c message sau khi deploy node Ä‘á»ƒ xem káº¿t quáº£ deploy Ä‘Ãºng hay chÆ°a.
+ Sau má»—i láº§n sá»­a cáº¥u hÃ¬nh node cáº§n nháº¥n nÃºt Update vÃ  Deploy láº¡i 1 láº§n
- Dá»±ng cÆ¡ sá»Ÿ dá»¯ liá»‡u:
+ CÆ¡ sá»Ÿ dá»¯ liá»‡u sá»­ dá»¥ng trong bÃ i toÃ¡n tÃ¬m kiáº¿m á»Ÿ má»©c cÆ¡ báº£n, chá»‰ cÃ³ cÃ¡c thuá»™c tÃ­nh cáº§n thiáº¿t.
- CÃ¡ch dÃ¹ng Nodered Ä‘á»ƒ táº¡o Backend
+ Vá» cÆ¡ báº£n, Nodered dá»… sá»­ dá»¥ng, linh hoáº¡t
+ Cáº§n hiá»ƒu rÃµ cÃ¡c node Ä‘á»ƒ connect Ä‘Ãºng
+ CÃ¡c thuá»™c tÃ­nh trong cÃ¡c node thay tháº¿ cho cÃ¡c dÃ²ng lá»‡nh dÃ i dÃ²ng khi code chay.
+ Khi má»›i báº¯t Ä‘áº§u cáº§n test connect tá»«ng node, sá»­ dá»¥ng Inject (timestamp) thay cho http in Ä‘á»ƒ test cho dá»… thá»±c hiá»‡n
+ Debug quan trá»ng, nÃªn Ä‘á»c ká»¹ debug Ä‘á»ƒ tÃ¬m ra lá»—i khi connect.
- CÃ¡ch frontend tÆ°Æ¡ng tÃ¡c vá»›i backend:
+ Khi client gá»­i phÆ°Æ¡ng thá»©c POST/GET thÃ¬ bÃªn backend lÃ  API Nodered sáº½ nháº­n vÃ  xá»­ lÃ½ yÃªu cáº§u: truy váº¥n database (SQL Server). Sau Ä‘Ã³ tráº£ vá» káº¿t quáº£ cho client.
+ Káº¿t quáº£ backend tráº£ vá» dáº¡ng json, frontend sáº½ nháº­n json nÃ y báº±ng js thÃ´ng qua hÃ m fetch(), vÃ  sau Ä‘Ã³ cáº­p lÃªn giao diá»‡n.
+ Connect DB vá»›i Backend Nodered thÃ´ng qua nháº­p cÃ¡c thuá»™c tÃ­nh server name, port, username, ....

